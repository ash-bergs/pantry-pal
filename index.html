<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pantry Pal</title>
    <link rel="icon" href="./assets/icon-192.png" />
    <link rel="stylesheet" href="./index.css" />
    <link rel="stylesheet" href="./styles/nav.css" />
    <link rel="stylesheet" href="./styles/modal.css" />
    <link rel="stylesheet" href="./styles/optionsModal.css" />
    <link rel="stylesheet" href="./styles/switch.css" />
    <link rel="stylesheet" href="./styles/form.css" />
    <link rel="stylesheet" href="./styles/buttons.css" />
    <link rel="stylesheet" href="./styles/items.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="manifest" href="./manifest.json">
    <script src="./dexie.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js');
        });
      }
    </script>
  </head>
  <body>
    <nav>
      <div class="navContents">
        <p>Pantry Pal</p>
        <button id="openOptionsModalButton">Settings</button>
      </div>
    </nav>
    <div class="container">
        <!-- MODAL TRIGGER -->
      <button id="openModalButton" aria-haspopup="dialog" aria-controls="modal">
        <div class="plus"></div>
        <p>Add New</p>
      </button>
      

      <!-- MODAL STRUCTURE -->
       <!-- ADD ITEM MODAL -->
      <div id="modal" class="modal" role="dialog" aria-labelledby="modalTitle" aria-modal="true" aria-hidden="true">
        <div class="modal-content">
          <button id="closeModal" class="close" aria-label="Close">&times;</button>
          <h2 id="modalTitle">Add New Item</h2>
          <form id="itemForm" novalidate>
            <label for="nameInput">
              Item
              <input
                type="text"
                id="nameInput"
                placeholder="Grocery Item"
                aria-describedby="nameError"
                required
              />
              <span class="error" id="nameError"></span>
            </label>

            <div class="formInputGroup">
            <label for="quantityInput">
              Quantity
              <input type="number" id="quantityInput" value="1" />
            </label>

            <label for="quantityUnitInput">
              Unit 
              <select name="quantityUnitInput" id="quantityUnitInput">
                <option value="">select unit</option>
                <option value="unit">unit</option>
                <option value="ounces">ounces</option>
                <option value="pounds">pounds</option>
                <option value="grams">grams</option>
                <option value="kilograms">kilograms</option>
                
                <option disabled>──────────</option>
                <option value="milliliters">milliliters</option>
                <option value="liters">liters</option>
                <option value="pints">pints</option>
                <option value="quarts">quarts</option>
                <option value="gallons">gallons</option>
                
                <option disabled>──────────</option>
                <option value="dozen">dozen</option>
                <option value="pack">pack</option>
                <option value="box">box</option>
                <option value="bag">bag</option>
              </select>
            </label>
            </div>

            <label for="priceInput">
              Price
              <input
                id="priceInput"
                type="number"
                placeholder="1.99"
                step="0.01"
                min="0"
                aria-describedby="priceError"
              />
              <span class="error" id="priceError"></span>
            </label>

            <label for="sectionInput">
              Store Section
              <select name="sectionInput" id="sectionInput">
                <option value="">Select store section</option>
                <option value="produce">Produce</option>
                <option value="dairy">Dairy</option>
                <option value="meat">Meat & Poultry</option>
                <option value="seafood">Seafood</option>
                <option value="deli">Deli</option>
                <option value="bakery">Bakery</option>
                <option value="frozen">Frozen Foods</option>
                <option value="beverages">Beverages</option>
                <option value="snacks">Snacks</option>
                <option value="canned">Canned Goods</option>
                <option value="dry-goods">Dry Goods & Pasta</option>
                <option value="condiments">Condiments & Sauces</option>
                <option value="baking">Baking Supplies</option>
                <option value="spices">Spices & Seasonings</option>
                <option value="breakfast">Breakfast Foods</option>
                <option value="health-beauty">Health & Beauty</option>
                <option value="household">Household Supplies</option>
                <option value="pet">Pet Supplies</option>
                <option value="ethnic">Ethnic Foods</option>
              </select>
            </label>

            <div class="formActionsDiv">
              <button type="submit" id="addItemButton">Add Item</button>
              <button id="cancelButton" type="button">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    </div>

    <!-- FILTERS AND OPTIONS SIDEBAR -->
     <div id="optionsModal" class="optionsModal" role="dialog" aria-labelledby="optionsModalTitle" aria-modal="true" >
       
      <div class="optionsSettingsContainer">
        <div class="optionsModalTitleContainer">
        <h2 class="optionsModalTitle">Settings</h2>
        <button id="closeOptionsModal" class="close" aria-label="Close Settings Panel">&times;</button>
        </div>
      
    
      <div class="filterInputs">
      
      <div class="filterControl">
        <p class="controlText">
          Auto Sort
        </p>
        <label class="switch">
          <input id="autoSort" type="checkbox" class="switch-input">
          <span class="switch-label" data-on="On" data-off="Off"></span>
          <span class="switch-handle"></span>
        </label>
      </div>

      <div class="filterControl">
        <p class="controlText">
          Hide Checked
        </p>
        <label class="switch">
          <input id="hideChecked" type="checkbox" class="switch-input">
          <span class="switch-label" data-on="On" data-off="Off"></span>
          <span class="switch-handle"></span>
        </label>
      </div>
       
      </div>

       <div class="optionsModalFooter">
       <button id="backupData" class="downloadDataButton">Download</button>
       </div>
       </div>
     </div>

    <!-- SHOPPING ITEMS LIST -->
    <div id="itemsDiv"></div>
    <!-- TOTAL PRICE OF LIST -->
    <div class="stickyPriceFooter">
      <!-- ITEMS CONTROLS -->
      <div id="itemsControl" class="itemsControl">
      <div class="divider"></div>
      <div id="totalPriceDiv">
        <p>Estimated Total Price</p>
        <p id="priceAmount"></p>
      </div>
    </div>
    <script type="module" src="./index.js"></script>
    <script type="module" src="./modules/db.js"></script>
    <script type="module" src="./modules/domElements.js"></script>
    <script type="module" src="./modules/populateItems.js"></script>
    <script type="module" src="./modules/modal.js"></script>
    <script type="module" src="./modules/optionsModal.js"></script>
    <script type="module" src="./modules/form.js"></script>
    <script type="module" src="./modules/exportDb.js"></script>
  </body>
</html>
